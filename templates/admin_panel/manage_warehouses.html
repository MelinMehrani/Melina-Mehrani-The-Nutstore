{% extends 'base.html' %}

{% block content %}
<div class="container">
  <h1 class="my-4">Manage Warehouses</h1>

  <form method="get" class="form-inline mb-4">
    <div class="form-group mb-2">
      <label for="city" class="sr-only">City</label>
      <input type="text" class="form-control" id="city" name="city" placeholder="City" value="{{ request.GET.city }}">
    </div>
    <div class="form-group mx-sm-3 mb-2">
      <label for="search" class="sr-only">Search</label>
      <input type="text" class="form-control" id="search" name="search" placeholder="Search by ID" value="{{ request.GET.search }}">
    </div>
    <button type="submit" class="btn btn-primary mb-2">Filter/Search</button>
  </form>

  <div class="table-responsive">
    <table class="table table-bordered table-hover">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Name</th>
          <th scope="col">City</th>
          <th scope="col">Location</th>
        </tr>
      </thead>
      <tbody>
        {% for warehouse in warehouses %}
        <tr>
          <td class="align-middle"><a href="{% url 'warehouse_detail' warehouse.id %}" class="text-blue">{{ warehouse.id }}</a></td>
          <td class="align-middle"><a href="{% url 'warehouse_detail' warehouse.id %}" class="text-blue">{{ warehouse.name }}</a></td>
          <td class="align-middle">{{ warehouse.city }}</td>
          <td class="align-middle">{{ warehouse.location }}</td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="4" class="text-center">No warehouses found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <p><a href="{% url 'create_warehouse' %}" class="btn btn-primary">Add Warehouse</a></p>
  <p><a href="{% url 'admin_panel' %}" class="btn btn-secondary">Back to Admin Panel</a></p>
</div>

<style>
  .table-responsive {
    overflow-x: auto;
  }

  .table td,
  .table th {
    vertical-align: middle;
  }

  .table th {
    font-weight: bold;
    background-color: #f2f2f2;
  }

  .text-blue {
    color: #556b4f;
    
  }

  .text-blue:hover {
    color: #2a3427;
    border-bottom-color: #556b4f;
  }

  .btn-primary {
    color: white;
    background-color: #7aa66f;
    border-color: #7aa66f;
  }

  .btn-primary:hover {
    background-color: #586e52;
    border-color: #586e52;
  }

  

</style>
{% endblock %}